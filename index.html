<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('./sw.js')
        .then(function(registration) {
          console.log('✅ Service worker registered with scope:', registration.scope);
        }).catch(function(error) {
          console.error('❌ Service worker registration failed:', error);
        });
    });
  }

  function subscribeToAlerts() {
    Notification.requestPermission().then(function(permission) {
      if (permission === 'granted') {
        navigator.serviceWorker.ready.then(function(registration) {
          registration.showNotification('Subscribed to Solace Alerts!');
        });
      } else {
        alert('Please allow notifications to receive alerts.');
      }
    });
  }
</script>
